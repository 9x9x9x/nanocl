Type: Deployment
ApiVersion: v0.2

Namespace: global

Resources:
  - Name: proxy-get-started
    Kind: ProxyRule
    Config:
      Watch:
        - get-started@global
      Http:
        Domain: get-started.com
        Network: Public
        SslCertificate: /random/path/to/cert
        SslCertificateKey: /random/path/to/key
        SslDhParam: /random/path/to/param
        Locations:
          - Path: /
            Target:
              Key: get-started@global
              Port: 9000

Cargoes:
  - Name: get-started
    # See all options:
    # https://docs.docker.com/engine/api/v1.42/#tag/Container/operation/ContainerCreate
    Container:
      Image: nexthat/nanocl-get-started:latest
      Env :
        - NODE_ENV=production
        - APP=LANDING
        - TEST=gg
