# Create Builder image
FROM rust:1.67.0-alpine3.17

# Install required dependencies
RUN apk add gcc g++ make libgcc libpq util-linux tzdata
RUN cargo install cargo-watch

RUN mkdir -p /run/nanocl
RUN mkdir -p /project
WORKDIR /project

ENV TZ=Europe/Paris

ENV RUSTFLAGS="-C target-feature=-crt-static"

ENTRYPOINT ["cargo", "watch"]
